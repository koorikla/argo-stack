argo-cd:
  enabled: true
  fullnameOverride: argo-cd
  server:
    ingress:
      enabled: true
      annotations:
        nginx.ingress.kubernetes.io/backend-protocol: "HTTPS"
        alb.ingress.kubernetes.io/ssl-passthrough: "true"
        nginx.ingress.kubernetes.io/force-ssl-redirect: "true"
      ingressClassName: "nginx"
      hosts:
        - argocd.local
      https: false


argo-workflows:
  enabled: true
  fullnameOverride: argo-workflows
  authModes: ["server"]
  server:
    extraArgs:
    - --auth-mode=server
    ingress:
      enabled: true
      annotations:
        nginx.ingress.kubernetes.io/backend-protocol: "HTTP"
        alb.ingress.kubernetes.io/ssl-passthrough: "true"
        nginx.ingress.kubernetes.io/force-ssl-redirect: "false"
      ingressClassName: "nginx"
      hosts:
        - argo-workflows.local


argo-events:
  enabled: true
  fullnameOverride: argo-events


argo-rollouts:
  enabled: true
  fullnameOverride: argo-rollouts
  dashboard:
    enabled: true
    ingress:
      enabled: true
      annotations:
        nginx.ingress.kubernetes.io/use-regex: "true"
        # nginx.ingress.kubernetes.io/backend-protocol: "HTTP"
        # alb.ingress.kubernetes.io/ssl-passthrough: "true"
        # nginx.ingress.kubernetes.io/force-ssl-redirect: "false"
      ingressClassName: "nginx"
      hosts:
        - argo-rollouts.local
      pathType: ImplementationSpecific
      paths:
        - /*

    # extraPaths: 
    #   - path: /*
    #     pathType: Prefix
    #     backend:
    #       service:
    #         name: ssl-redirect
    #         port:
    #           name: use-annotation
